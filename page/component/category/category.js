Page({
    data: {
        category: [
            {name:'社会',id:'shehui'},
            {name:'财经',id:'caijing'},
            {name:'科学',id:'kexue'},
            {name:'哲学',id:'zhexue'},
            {name:'音乐',id:'yinyue'},
            {name:'戏曲',id:'xiqu'}
        ],
        detail:[],
        curIndex: 0,
        isScroll: false,
        toView: 'guowei'
    },
    onReady(){
        var self = this;
        wx.request({
            url:'http://www.gdfengshuo.com/api/wx/cate-detail.txt',
            success(res){
                self.setData({
                    detail : res.data
                })
            }
        });
        
    },
    switchTab(e){
      const self = this;
      this.setData({
        isScroll: true
      })
      setTimeout(function(){
        self.setData({
          toView: e.target.dataset.id,
          curIndex: e.target.dataset.index
        })
      },0)
      setTimeout(function () {
        self.setData({
          isScroll: false
        })
      },1)
        
    }
    
})